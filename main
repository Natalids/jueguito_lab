#include <iostream>
#include <clocale>
using namespace std;
#include "funciones.h" // Nuestro archivo de funciones
#include <cstring> // Para laburar/comparar las cadenas de texto
#include <ctime> // Es la librería del 'tiempo'. Sirve para disponer del dato de la fecha y hora para generar un primer número aleatorio. Se va a usar para los números de la matriz
#include "rlutil.h" // La librería para poner bonita la consola

int main(void){
   	setlocale(LC_ALL, "Spanish");

   	srand(time(NULL));

	int num, salir=1, puntaje=0;
	char rta[3], afirmativo[3]={'s','i'}, nombre[20];

	while(salir!=0){
        rlutil::cls();
        menu();
        cout << endl << "  Por favor elegí la opción que quieras realizar: ";
        cin >> num;

		if(num == 1){
            rlutil::cls();
            jugar(&puntaje, nombre); // El & es porque es por referencia
            rlutil::anykey();
		}
		else{
			if(num == 2){
                rlutil::cls();
                estadisticas(puntaje, nombre);
                rlutil::anykey();
			}
			else{
				if(num == 3){
                    rlutil::cls();
                    creditos();
                    rlutil::anykey();
				}
				else{
                    if(num == 0){
                        rlutil::cls();
                        cout << endl << "  ¿Estás seguro que querés salir? (escribir si - no): ";
                        cin >> rta;
                        salir = strcasecmp(rta, afirmativo);

                        if(salir==0){
                            rlutil::cls();
                            cout << endl << "  Gracias por jugar a MATHRIX, ¡esperamos que lo hayas disfrutado!" << endl;
                        }
                        else{
                            rlutil::cls();
                            cout << endl << "  ¡Que bueno que decidiste quedarte!" << endl;
                        }
                    }
				}
			}
		}
	}

	return 0;
}

